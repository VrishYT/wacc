stages:
  - compile
  - test

compile:
  stage: compile
  script:
    - make
    - echo "*-----Compiled-----*"
  tags: [private]

test_parse:
  stage: test
  script:
    - make test_parse
    - echo "*-----Test Parser-----*"
  tags: [private]
  except:
    - master

test_typecheck:
  stage: test
  script:
    - make test_typecheck
    - echo "*-----Test Typechecker-----*"
  tags: [private]
  except:
    - master

test_compile:
  stage: test
  script:
    - make test_compile
    - echo "*-----Test Execution-----*"
  tags: [private]
  except:
    - master

test:
  stage: test
  script:
    - make test_compile
    - echo "*-----Test Execution-----*"
  tags: [private]
  only:
    - master


